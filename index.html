<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>AllenSu & Bird - Mini MotoPager</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=VT323&family=Zcool+KuaiLe&family=Nunito:wght@700;800&display=swap');

        :root {
            --body-bg: #EAE7DC;
            --machine-color: #F2EFE4;
            --machine-shadow: #d1cec5;
            --screen-bg: #222222;
            --screen-text: #FFB74D;
            --accent-orange: #E66A59;
            --accent-yellow: #FFD54F;
            --note-yellow: #fff7d1;
        }

        * { box-sizing: border-box; user-select: none; -webkit-tap-highlight-color: transparent; }

        body {
            margin: 0;
            height: 100vh;
            overflow: hidden;
            background-color: var(--body-bg);
            background-image: radial-gradient(#ccc 1.5px, transparent 1.5px);
            background-size: 24px 24px;
            font-family: 'Zcool KuaiLe', sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        #canvas {
            position: absolute;
            top: 0; left: 0; width: 100%; height: 100%;
            z-index: 0;
            overflow: hidden;
        }

        /* --- ÊâìÂç∞Êú∫Âå∫Âüü --- */
        .printer-zone {
            position: fixed;
            bottom: 10px;
            width: 100%;
            height: auto;
            display: flex;
            justify-content: center;
            z-index: 10000; 
            pointer-events: none;
        }

        /* === Áº©ÊîæÂåÖË£ÖÂô® === 
           Â∞ÜÊØî‰æãÊîπ‰∏∫ 0.5 (50%)
        */
        .printer-scale-wrapper {
            transform: scale(0.5); 
            transform-origin: bottom center;
            
            position: relative;
            width: 340px; 
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .paper-feeder {
            position: absolute;
            bottom: 180px; 
            width: 260px;
            height: 300px;
            z-index: 9000;
            pointer-events: none; 
            display: flex;
            justify-content: center;
            align-items: flex-end;
        }

        .printer-body {
            position: relative;
            width: 340px;
            height: auto;
            background: var(--machine-color);
            box-shadow: 
                0 20px 40px rgba(0,0,0,0.15),
                inset 0 2px 5px rgba(255,255,255,0.8),
                inset 0 -3px 5px rgba(0,0,0,0.05);
            border-radius: 30px;
            padding: 25px;
            z-index: 10001;
            pointer-events: auto;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        /* ÂìÅÁâåLogo */
        .brand-logo {
            font-family: 'Nunito', sans-serif;
            font-size: 10px;
            letter-spacing: 2px;
            color: #999;
            margin-bottom: 10px;
            text-transform: uppercase;
            font-weight: 800;
            display: flex;
            align-items: center;
            gap: 5px;
        }
        .brand-icon { font-size: 14px; }

        /* Âá∫Á∫∏Âè£ */
        .black-slot {
            position: absolute;
            top: -12px; 
            width: 220px;
            height: 15px;
            background: #2a2a2a;
            border-radius: 8px;
            border-bottom: 2px solid #555;
            z-index: 10002;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
        }

        /* Â±èÂπï */
        .screen-bezel {
            width: 100%;
            background: #111;
            padding: 12px 15px;
            border-radius: 12px;
            box-shadow: inset 0 2px 5px rgba(0,0,0,0.5), 0 2px 0 rgba(255,255,255,0.1);
            margin-bottom: 20px;
        }

        .pixel-screen {
            width: 100%; height: 40px;
            background: transparent; color: var(--screen-text);
            font-family: 'VT323', monospace; font-size: 20px;
            border: none; outline: none; letter-spacing: 1px;
            text-shadow: 0 0 2px var(--screen-text);
        }
        .pixel-screen::placeholder { color: rgba(255, 183, 77, 0.3); }

        /* ÊìçÊéßÈù¢Êùø */
        .control-panel {
            width: 100%; display: flex;
            justify-content: space-between; align-items: center;
            padding: 0 5px;
        }

        .func-keys { display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 10px; }

        .pixel-btn {
            width: 45px; height: 45px;
            border: none; border-radius: 12px;
            cursor: pointer; font-size: 20px;
            display: flex; align-items: center; justify-content: center;
            transition: all 0.1s; position: relative;
            color: #555; font-family: 'Zcool KuaiLe';
            background: linear-gradient(145deg, #fefefe, #e6e6e6);
            box-shadow: 3px 3px 6px #ccc, -3px -3px 6px #fff;
        }
        .pixel-btn:active { transform: scale(0.95); box-shadow: inset 2px 2px 5px #ccc, inset -2px -2px 5px #fff; }
        .btn-label { position: absolute; bottom: -18px; font-size: 10px; color: #888; font-family: 'Nunito', sans-serif; font-weight: 700; white-space: nowrap; }

        /* ÊâìÂç∞ÊåâÈíÆ */
        .print-group { display: flex; flex-direction: column; align-items: center; position: relative; }
        .big-print-btn {
            width: 70px; height: 70px;
            border-radius: 50%; border: none;
            background: var(--accent-orange); color: white;
            font-family: 'Nunito', sans-serif; font-weight: 800; font-size: 14px;
            cursor: pointer;
            box-shadow: 0 6px 0 #c0392b, 0 10px 15px rgba(0,0,0,0.2);
            display: flex; align-items: center; justify-content: center;
            text-transform: uppercase; letter-spacing: 1px;
        }
        .big-print-btn:active { transform: translateY(4px); box-shadow: 0 2px 0 #c0392b, 0 4px 5px rgba(0,0,0,0.2); }
        .power-light {
            width: 8px; height: 8px;
            background: #4CAF50; border-radius: 50%;
            box-shadow: 0 0 5px #4CAF50;
            margin-bottom: 8px; position: absolute; top: -15px;
        }

        /* Ë£ÖÈ•∞Ë¥¥Á∫∏ */
        .deco-sticker { position: absolute; font-size: 24px; pointer-events: none; opacity: 0.9; filter: drop-shadow(1px 1px 0 rgba(0,0,0,0.1)); }
        .deco-1 { top: 15px; left: 15px; transform: rotate(-15deg); }
        .deco-2 { top: 15px; right: 15px; transform: rotate(15deg); }


        /* Âç°ÁâáÊ†∑Âºè */
        .pixel-card {
            position: absolute;
            transform-origin: center center;
            touch-action: none;
            cursor: grab;
            pointer-events: auto;
        }

        .note-card {
            width: 200px; height: fit-content; min-height: 100px; max-height: 350px;
            overflow: hidden; background: var(--note-yellow); color: #333;
            padding: 20px 20px 30px 20px; box-shadow: 2px 5px 15px rgba(0,0,0,0.15);
            font-size: 17px; line-height: 1.6; text-align: justify;
            border-radius: 2px; font-family: 'Zcool KuaiLe', cursive;
        }
        
        .note-card::before {
            content: ''; position: absolute; top: 0; left: 0; right: 0; bottom: 0;
            background-image: url("data:image/svg+xml,%3Csvg width='4' height='4' viewBox='0 0 4 4' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M1 3h1v1H1V3zm2-2h1v1H3V1z' fill='%23000000' fill-opacity='0.03' fill-rule='evenodd'/%3E%3C/svg%3E");
            pointer-events: none;
        }

        .polaroid-card {
            width: 220px; background: white; padding: 12px 12px 45px 12px;
            box-shadow: 5px 5px 20px rgba(0,0,0,0.15); transform: rotate(-2deg); border-radius: 3px;
        }
        .polaroid-card img { width: 100%; height: auto; display: block; background: #f0f0f0; pointer-events: none; filter: sepia(0.2) contrast(1.1); }
        .card-footer { position: absolute; bottom: 8px; right: 15px; font-size: 12px; color: #aaa; font-family: 'VT323', monospace; letter-spacing: 1px; }

        .printing-anim { transition: transform 2s cubic-bezier(0.25, 1, 0.5, 1); }
        .sticker { position: absolute; font-size: 45px; z-index: 5000; filter: drop-shadow(3px 3px 0 rgba(0,0,0,0.1)); cursor: grab; }
        
        .trash {
            position: absolute; top: 20px; right: 20px;
            width: 50px; height: 50px; border-radius: 50%;
            background: white; box-shadow: 0 5px 15px rgba(0,0,0,0.15);
            display: flex; align-items: center; justify-content: center; font-size: 24px;
            z-index: 20000; transition: transform 0.2s;
        }
        .trash.active { background: #ffcdd2; transform: scale(1.1); color: #d32f2f; }
        #fileInput { display: none; }

    </style>
</head>
<body>

    <div class="trash" id="trashBin">üóëÔ∏è</div>
    <div id="canvas"></div>

    <div class="printer-zone">
        <div class="printer-scale-wrapper">
            <div class="paper-feeder" id="feeder"></div>
            
            <div class="printer-body">
                <div class="deco-sticker deco-1">üêµ</div>
                <div class="deco-sticker deco-2">üê•</div>

                <div class="black-slot"></div>
                
                <div class="brand-logo">
                    <span class="brand-icon">‚ö°</span> DIGITAL NOTE PRINTER
                </div>

                <div class="screen-bezel">
                    <input type="text" id="screen" class="pixel-screen" placeholder="TYPE MESSAGE..." autocomplete="off">
                </div>

                <div class="control-panel">
                    <div class="func-keys">
                        <button class="pixel-btn" onclick="randomQuote()" style="color: #5c6bc0;">
                            üìù<span class="btn-label">QUOTE</span>
                        </button>
                        <button class="pixel-btn" onclick="document.getElementById('fileInput').click()" style="color: #ef5350;">
                            üñºÔ∏è<span class="btn-label">PHOTO</span>
                        </button>
                        <button class="pixel-btn" onclick="addSticker()" style="color: #ffa726;">
                            üéÄ<span class="btn-label">STICKER</span>
                        </button>
                    </div>

                    <div class="print-group">
                        <div class="power-light"></div>
                        <button class="big-print-btn" onclick="startPrint()">PRINT</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <input type="file" id="fileInput" accept="image/*" onchange="handleImage(this)">

    <script>
        const quotes = [
            "ÊÑüËßâ‰Ω†ÁöÑÊñáÊ°àÂú®Êï∑Ë°çÊàë ‰ΩÜÂè™Êúâ‰Ω†ÂèØÈöèÊó∂ÈöèÂú∞ÈöèÊÑèÊï∑Ë°çÊàë",
            "ÂΩ¢ÂÆπ‰∏Ä‰∏ãËá™Â∑± ‚Ä¶‚Ä¶ÊúâËãèÈÜí",
            "‰Ω†ÊÄé‰πàÂèØËÉΩÈÄÉÁ¶ªÊàëÁöÑÁîüÊ¥ª",
            "Â±±Âë¢ ÊúâÊàë‰∫Ü‰Ω†ËøòÁúãÂ±±",
            "Âõ†‰∏∫Âú®ËçíÂ≤õ ÊàëÂíåÂº†ËøúËøòÊúâÂèØËÉΩ‰∫ßÁîüÁà±ÊÉÖÁöÑÁÅ´Ëä±",
            "Êàë‰ª¨‰∏çÊòØÁªÑÂêà Êàë‰ª¨ÊòØÂÆ∂Â∫≠ We are family",
            "ÂæàÂ§ö‰∫∫ËØ¥ËøôÊòØÁà±ÊÉÖ ÁÆÄÁõ¥‰∏ÄÊ¥æËÉ°Ë®Ä Áà±ÊÉÖ Ê≤°ÊúâÊàë‰ª¨Á®≥ÂÆö",
            "‰ªñÂú®ÊàëÊúÄ‰∏çÂ•ΩÂíåÊúÄÂ•ΩÁöÑÊó∂ÂÄôÈÉΩÂú®ÊàëË∫´Ëæπ",
            "ÊàëÂèà‰∏çÊòØgay ÔºåÊàëÂè™ÊòØÊØîËæÉÁà±ËãèÈÜíËÄåÂ∑≤",
            "‰ªñÂ∞±ÊòØÊúâÊâçÂçé",
            "Allen Su This is for you",
            "Ê≥ïÂõΩ‰∫∫ÈÉΩÊ≤°Êàë‰ø©Êµ™Êº´",
            "Âè™ÊúâÈùûÂ∏∏ÂñÑËâØÁöÑÂ≠©Â≠êÊâç‰ºöÊãÖÂøÉÊ∑∑ËõãÁöÑÂëΩËøê",
            "‰ΩÜÊàëËßâÂæóÈÇ£‰∏™Êó∂ÂÄô ÊàëÁöÑË∫´ËæπÂ∫îËØ•ÊúâÂº†Ëøú",
            "ÊúÄÊÄïÁöÑ‰∏â‰ª∂‰∫ã ËúòËõõ Âç°ÈáåÊ≤°Èí± ËãèÈÜíÊâæ‰∏çÂà∞",
            "All I have is you",
            "‰∏çËÉΩËØ¥ÂΩ¢ÂΩ±‰∏çÁ¶ª Ëµ∑Á†ÅÂ∞±ÊòØÂΩºÊ≠§ÂÖÖÊª°‰∫ÜÂØπÊñπÁöÑÁîüÊ¥ª",
            "Êó†ËÆ∫‰ªïÈÄîÂ§öÈô© ÂøÉ‰∏≠Ê∞∏ËøúÊúâÁà± Êó†ËÆ∫Ë∞ÅËµ∞Ë∞ÅÁïô AllenÊ∞∏ËøúÈÉΩÂú®",
            "ÊúâÊó∂ÂÄôÂèãÊÉÖËøô‰∏úË•ø Êêû‰∏çÂ•ΩÊØîÁà±ÊÉÖËøòË¶ÅÂàªÈ™®Èì≠ÂøÉ",
            "Ëá™‰ªéÂº†ËøúËøô‰∏™Á≠îÊ°àÂá∫Áé∞‰πãÂêé ÂêéÈù¢ÊâÄÊúâÁöÑÁ≠îÊ°àÈÉΩÊòØÂº†Ëøú",
            "Ê∞∏ËøúÂíåËá™Â∑±ËÄÅÂÖ¨ÂÅöÂÖÑÂºü ‰Ω†ÁúãÂ§öÂ•Ω",
            "ÈÅáËßÅÂØπÁöÑ‰∫∫Ôºå‰∏çË¶ÅÊÄïÊëäÁâå",
            "ËøôÂ¶ÇÊûúÊàëÈÉΩËÉΩË∑ü‰Ω†ÊãâÂà∞‰∏ÄÂùóÁöÑËØùÔºåÊàëÂ∞±ÂèëÂæÆÂçöËÆ§Ëøô‰∏™ÁªÑÂêà‰∫Ü",
            "ÊàëÂÆòÊñπË¥¥ËÑ∏ÂºÄÂ§ßÔºåÊàëÂ∞±ÊòØ‚ÄúÈÜíËøúforever‚ÄùË°å‰∏çË°å",
            "Êàë‰ª¨ÊúÄÁªàËÆæËÆ°ÁöÑÂ∞±ÊòØÊàë‰ª¨‰∏â‰∏™Âú®ËàûÂè∞‰∏äÁªèËøáÊøÄÁÉàÁöÑÊìç‰ΩúÊàëË∑üÂº†ËøúÊúÄÁªàÂú®‰∏ÄËµ∑‰∫Ü",
            "Êàë‰πüÂæàÂºÄÂøÉÔºåAllen‰ªäÂπ¥ÁúüÁöÑÁªà‰∫éÊääËá™Â∑±ÁâπÂà´‰ºòÁßÄÁöÑ‰∏ÄÈù¢Â±ïÁé∞Áªô‰∫ÜÂ§ßÂÆ∂ÔºåÁªà‰∫éÁ≠âÂà∞Ëøô‰∏ÄÂ§©„ÄÇ",
            "To Bird, we are getting old.",
            "Â•ΩÂê¨ÂêóÔºüTake it.",
            "ËøúËøúÔºåÁà±‰Ω†Âì¶",
            "ÊÉ≥ÂÜçÊ¨°‰∏∫ÊàëÊúÄÂ•ΩÁöÑÂÖÑÂºüÔºåÈºìÊéåÔºåwell doneÔºåÂÅöÂæóÂæàÊ£í",
            "ËÄÅÂèã ÊçüÂèã soulmate ÂÆ∂‰∫∫",
            "HERE COMES ALLENSU!!",
            "‰∏â‰∏™ËØçÂΩ¢ÂÆπËá™Â∑±:ÂàÜË£Ç„ÄÅ‰πñÂ∑ß„ÄÅËãèÈÜí; ‰∏â‰∏™ËØçÂΩ¢ÂÆπËá™Â∑±:ÁúºÁùõÂ∞è„ÄÅÂî±Ê≠åÂ•Ω„ÄÅÊúâËãèÈÜí",
            "Do you want me to kiss you?",
            "ÂÄü‰ªñÈí± Ë∑ü‰ªñÁõ∏Â§Ñ Âê¨‰ªñËÅäÂ§© Ë∑ü‰ªñÂêÉÈ•≠ Èô™‰ªñÂ∫¶Ëøá‰∏Ä‰∫õÈúÄË¶ÅÈºìÂä±ÁöÑÂØÇÂØûÁöÑÊó∂ÂÖâ ÊâìÂºÄÂΩºÊ≠§ÁöÑÂøÉÊââÂ∞±‰ºöÊàê‰∏∫Â•ΩÊúãÂèã‚Ä¶",
            "Ëøô‰∫õÂπ¥‰Ω†ÊúâÂÅöÂæó‰ªÄ‰πàÂØπÁöÑ‰∫ã? -ÂíåËãèÈÜíÊàê‰∏∫ÊúÄÂ•ΩÁöÑÂÖÑÂºü; Ëøô‰∫õÂπ¥Êúâ‰ªÄ‰πàÂÅöÁöÑÂêéÊÇîÁöÑ‰∫ã? -ÂíåËãèÈÜíÊàê‰∏∫ÊúÄÂ•ΩÁöÑÂÖÑÂºü",
            "ÊíëÂÖÑÈÅìÂºüÔºåÊ∞∏ËøúË∑üËá™Â∑±ËÄÅÂÖ¨ÂÅöÂÖÑÂºüÔºå‰Ω†ÁúãÂ§öÂ•Ω",
            "‰∫åÂçÅÂπ¥ÂêéÔºåÊàëÂíåËãèÈÜíÂùêÂú®Ê≤ôÂèë‰∏äÔºå‰∏ÄËæπÁúãÁùÄÁîµËßÜÔºå‰∏ÄËæπÂóëÁùÄÁìúÂ≠ê„ÄÇ",
            "DUDE, JUST GO FOR IT.",
            "‰Ω†‰ª¨ÂêµÂæóÂÜçÂá∂Âº†ËøúÁ≠â‰ºöÂÑøËøò‰∏çÊòØË∑üÊàëÂõû‰∏Ä‰∏™Â∞èÂå∫",
            "SING & LIVE HAPPILY",
            "Ë∑üËãèÈÜíÂÆÖÂú®‰∏ÄËµ∑ÁöÑÊó∂ÂÄôÈÉΩÂÅö‰∫õ‰ªÄ‰πà‰∫ãÊ∂àÈÅ£? ‰∏éÊàë‰ø©‰πãÂ§ñÁöÑ‰∏ñÁïåËøûÊé•",
            "Âº†Ëøú Â∞±ÂÉè‰ªñÁöÑÂêçÂ≠óÔºåBirdÔºåÂÉè‰∏ÄÂè™È∏ü ‰ΩÜ‰ªñËøüÊó©‰ºöÂèòÊàêÂá§Âá∞",
            "ÊàëÂè™ÊòØÊÉ≥Â§ö‰∏ÄÁßçÈöèÊó∂ËÉΩËÅîÁ≥ªÂà∞‰Ω†ÁöÑÊñπÂºè...",
            "-Êàë‰ªäÂ§©Êôö‰∏äÁù°Âì™Èáå? -Of course my place -Why? -Because I love you.",
            "-Êàë‰∏çÁü•ÈÅìËØ•ÊÄé‰πàËØÑ‰ª∑Âº†ËøúÁöÑ‰∏ÄÂçäÂõ†‰∏∫ËØÑ‰ª∑Ëá™Â∑±Êàë‰∏çÂ§™‰π†ÊÉØ",
            "-ËãèÈÜíÂ∞±ÊòØÊàëÁöÑ‰∏ÄÂçä",
            "ÊàëÁöÑ‰∏ñÁïåÔºåÂæàÁÆÄÂçï,Âè™Êúâ‰∏ãÂçà... - Â§ßÂÆ∂Â•ΩÔºåÊàëÊòØ‰∏ãÂçà„ÄÇ",
            "-‰ªäÂπ¥Â¶ÇÊûúËøòÊúâÊºîÂî±‰ºöÔºåÊàëÂ∞±ÊääÂÆÉÂÆåÂÖ®ÊíïÂºÄ -Â¶ÇÊûú‰Ω†ÊääÂÆÉÂÆåÂÖ®ÊíïÂºÄ ÊàëÂ∞±ÊãøÁÉüÂ§¥ÁÉ´‰Ω†",
            "ÊàëÁöÑÊÑøÊúõÂ∞±ÊòØÂ∏åÊúõËøúËøú‰ªäÂπ¥ËÉΩ‰∏äÊò•Êôö",
            "‰Ω†‰∏çÁ¶ªÂºÄËãèÈÜíÂèØËÉΩ‰ºöÁªì‰∏ç‰∫ÜÂ©öÂìé -Êàë‰∏∫‰ªÄ‰πàË¶ÅÁ¶ªÂºÄ‰ªñ?",
            "ËãèÈÜíÊâìÁîµËØùËØ¥‰ªñÂú® Âú®Á≠â‰Ω† ‰∏ÄËßÅÈù¢ÊúâËÅä‰∏çÂÆåÁöÑËØùÈ¢ò~",
            "‰ªø‰ΩõÁúãÂà∞‰∫ÜÊàëÂíåÂº†ËøúÁöÑÊú™Êù•,ÁôΩËâ≤Â∫îËØ•ÊòØÊàë ÊØïÁ´ü ÊàëÊØî‰ªñÊ¥ªÊ≥º‰∫õ..",
            "ÊàëÁöÑÊÑèÊÄùÊòØ‰Ω†Â§öÈªëÈÉΩ‰ºöÊúâ‰∫∫Áà±‰Ω†",
            "Â∞±ÈÇ£‰∏ÄÁßí Â∞±ÈÇ£‰∏ÄÂàªÁöÑÈªòÂ•ëËÆ©‰Ω†ËßâÂæóÊàë‰ª¨ÂΩºÊ≠§ÊòØÁúüÁöÑÂæàÂú®‰πé‰πüÂæàÊÉ≥Âøµ",
            "Â∞±ÈÇ£‰∏ÄÂàªÊàëËßâÂæó ‰ªñÂ∞±ÊòØÊàë‰∏ÄËæàÂ≠êÁöÑÂÖÑÂºü",
            "ÂÖ®‰∏ñÁïåÂè™ÊúâÊàë‰ª¨...Âú®ËøûÊé•Â∞èÂÆáÂÆô",
            "È∏üÂíåÁå¥Â§©ÈïøÂú∞‰πÖ",
            "ÊàëË¶ÅËãèÈÜíË°å‰∫ÜÂêß",
            "I'll be there for you.",
            "‰∫∫ÂÆ∂ÈÉΩËØ¥Êàë‰∏Ä‰∏™ÈááËÆøË¶ÅÊèê8Ê¨°ËãèÈÜíÔºåÊàëËØ¥ÊÄé‰πà‰∫ÜÔºåÊàëËØ¥ÈÇ£Â∞±ÊòØ‰ªñÂú®ÊàëÊúÄ‰∏çÂ•ΩÁöÑÊó∂ÂÄôÂíåÊúÄÂ•ΩÁöÑÊó∂ÂÄôÔºåÈÉΩÂú®ÊàëË∫´Ëæπ",
            "ÊâÄ‰ª•ÁúüÊ≠£ÁöÑÂÖÑÂºüÂ∞±ÈÇ£‰πà‰∏Ä‰∏§‰∏™ÔºåÊØîÂ¶ÇÂΩì‰∫≤ÂºüÂºü‰∏ÄÊ†∑ÁöÑÂº†Ëøú",
            "‰ªñÊÄé‰πàÂèØËÉΩËΩªËΩªÂú∞Âêª!‰ªñÂ±ÖÁÑ∂Êï¢ÈÇ£‰πàÈáçÁöÑ‰∫≤ÊàëÔºÅÁúüÁöÑÊÉ≥Êää‰ªñË∏πÊ≠ª!‰ΩÜÊòØËøô‰πüÊòØ‰ªñÁà±ÊàëÁöÑ‰∏ÄÁßçË°®ËææÔºåÊàëÂßë‰∏îÊé•Âèó",
            "I have nothing left to teach you.",
            "Â£∞Èü≥‰ºòË¥®ÊÉÖÊÑüÂä†ÂÄçÂõ†‰∏∫ËøúËøúÁöÑËøô‰∏™Ê≠åÂÖ∂ÂÆûÂú®ÂèëÂ∏É‰πãÂâçÊàëÂ∑≤ÁªèÂê¨ËøáÊó†Êï∞ÈÅçÁöÑdemo‰∫Ü",
            "Âè™Ë¶ÅÊúâÊàëÂú® ‰ªñË∫´ËæπÁöÑ‰∫∫ ÊàëÊù•ÊääÂÖ≥",
            "‰∏çÁÆ°‰ªñidol‰∏çidolÔºåÂú®ÊàëÈù¢ÂâçÔºå‰ªñÂ∞±ÊòØÂº†Ëøú",
            "‰Ω†ÊúâÁôΩÂ§¥Âèë‰∫ÜÔºåÊàë‰πüÊòØ",
            "ÊàëÊòØÂ¶àÂ¶àÁöÑÂÑøÂ≠êÔºåËãèÈÜíÁöÑÂÖÑÂºü",
            "‰Ω†Â∞±ÊòØÂõ†‰∏∫ÂâçÂçÅÂÖ´Âπ¥ÁöÑÁßØÁ¥ØÂíåÂã§Â•ãÊâçÊúâËøô‰∏ÄÊ¨°ÁªΩÊîæ",
            "ÊàëË∑üËãèÈÜíÊòØÂàÜ‰∏çÂºÄÁöÑ",
            "ÁØÆÁêÉ Âº†Ëøú Ê¢ÖË•ø",
            "‰Ω†ÊÄé‰πàËÉΩÈÄÉÁ¶ªÊàëÁöÑÁîüÊ¥ªÂë¢ÔºüI‚Äôm everywhereÔºÅ",
            "Â¶ÇÊûúÊòØÂà´‰∫∫ÁöÑËØùÊàë‰ºöËÄÉËôëÔºå‰ΩÜÊòØÂ¶ÇÊûúÁªô‰ªñÁöÑËØùÊàëÂèØ‰ª•Êó†Êù°‰ª∂ÈÄÅÁªô‰ªñ",
            "Êå∫Â•ΩÁöÑÔºåÊàë‰ª¨ÂêéÊù•ÂæàÂ§öÂπ¥ÁöÑÁîüÊ¥ªÂ∞±ÊòØËøôÊ†∑Â≠êÁöÑÂëÄÔºåÂ∞±ÊòØ‰∏çËÉΩËØ¥ÂΩ¢ÂΩ±‰∏çÁ¶ªÔºå‰ΩÜËµ∑Á†ÅÂ∞±ÊòØÂΩºÊ≠§ÂÖÖÊª°‰∫ÜÂØπÊñπÁöÑÁîüÊ¥ª",
            "ÊàëÁöÑËøô‰ΩçÂÖÑÂºüÂë¢ ÁúüÁöÑÈùûÂ∏∏ÁÉ≠Áà±ËàûÂè∞ ÊâÄ‰ª•Âë¢ ÊàëÊÉ≥Â∏Æ‰ªñÂ§öÁïôÂá†Âú∫ Ëøô‰ΩçÂÖÑÂºüÂ∞±ÊòØËãèÈÜíÔºÅ",
            "Êàë‰ª¨‰∏ÄËµ∑Âéª‰∫ÜÂÜÖËíôÁùÄÊó•Âá∫Ôºå‰∏ÄËµ∑Âéª‰∫ÜÈï∞‰ªìÔºå‰∏ÄËµ∑Âéª‰∫Ü‰∫ëÂçóÔºåËãèÈÜíËøòÁªôÊàëÊãç‰∫Ü‰∏ÄÁªÑÁôæÂπ¥Â≠§ÂØÇ",
            "ÁÉòÊâòÂ∞èÊ∏©ÊöñÔºåÈÅøÂÖçÊñ≠ËÉåÂ±±",
            "ÊàëÁöÑÊ≠åÔºåÂî±ÁöÑÊúÄÂ•ΩÊòØÂº†Ëøú",
            "Âè™Êúâ‰Ω†‰ºöÂè´Êàë‚Äúhey bird‚Äù",
            "-ÊâÄ‰ª•ÂΩìÂπ¥‰Ω†ÁöÑÊØîËµõÂøÉÊÄÅ‰∏∫‰ªÄ‰πàÊ≤°ÊúâË∞ÉÊï¥Â•ΩÂë¢ -ÂèØËÉΩÂõ†‰∏∫ÂØπÊâãÊòØ‰Ω†Âêß",
            "Êúà‰∫ÆÈÉΩÂõ∞‰∫Ü",
            "Èí±Ê≤°ÊúâËãèÈÜíÈáçË¶Å",
            "ÂãâÂº∫ÁöÑÊÖàÊÇ≤ÊòØÊá¶Âº± ‰∏çÈÖçËµûËµè ËΩ¨ÊäòÁöÑÊó∂ÊúüÁõ∏Èô™‰º¥ ÊàëÊù•Á´ôÂ≤ó",
            "Â∏åÊúõÊàëÁöÑÂ•ΩÂÖÑÂºüAllen SuÁöÑÊâçÂçéÔºåÂ∞±ÁÆóÊòØÂçÅ‰∫åÂπ¥ÂâçÁöÑÊ≠åÔºå‰πüË¶ÅË¢´Â§ßÂÆ∂Âê¨ËßÅÔºÅ",
            "ÊàëÂæàÁèçÊÉúËøô‰πù‰∏™ÊúàÔºåÂõ†‰∏∫ÊØèÂπ¥Êúâ‰∏â‰∏™ÊúàÁöÑÊó∂Èó¥‰ªñÊòØÊØîÊàëÂ∞è‰∏§Â≤ÅÁöÑ",
            "Êàë‰ø©ÊöóËá™Á´ã‰∏ãFlag Â¶ÇÊûúË∞ÅÂèàÁ™ÅÁÑ∂Á∫¢‰∫ÜÁªùÂØπË¶ÅÁªôÊâÄÊúâ‰∫∫ÁúãÁúã‰ªÄ‰πàÂè´ÁúüÊ≠£ÁöÑÂèãÊÉÖ",
            "Hope my friend Bird will soon be this red.",
            "Ë∞¢Ë∞¢‰Ω†Âú®ÂÆ∂‰∫∫ÊóÖË°åÊ∏∏ËÆ∞‰∏≠ÊúâÊàëÂá∫Áé∞ÔºåËôΩÁÑ∂ÊòØ‰ª•Âè¶‰∏ÄÁßçÊñπÂºèÂëàÁé∞...‰Ω†ËØ¥‰Ω†‰π∞ÊàøÂ≠êÈÇ£Â§©‰ºöÁªôÊàëÁïô‰∏Ä‰∏™ÊàøÈó¥ÔºåÊàëÊÉ≥ËØ¥Êàë‰πü‰∏ÄÊ†∑",
            "Êàë‰ª¨ÁöÑÊïÖ‰∫ãÂèØ‰ª•ÂÜô‰∏ÄÊú¨‰π¶ÁöÑÔºåËøô‰∏™‰π¶Âêç‰∏çÂ¶ÇÂè´ÂÅö„Ääme & you„Äã",
            "ÂíåÊàë‰øùÊåÅË∑ùÁ¶ªÔºåÂ•ΩÂ•ΩÂΩì‰∏™ÂÅ∂ÂÉè",
            "-ÈÇ£‰∏™‰ªÄ‰πàÔºåÊàëÂ∞±ÊääËá™Â∑±‰∫§Áªô‰Ω†‰∫Ü... -Â•ΩÂêß..",
            "ËãèÈÜíÔºÅËØ¥‰∫ÜÂ§öÂ∞ëÈÅç‰∫ÜÔºåÂÆ∂ÈáåËÉΩ‰∏çËÉΩÂáÜÂ§áÁÇπÊ∞¥ÔºÅÁ∫ØÂáÄÊ∞¥ÔºÅ",
            "ÊàëÂéªÂèÇÂä†„ÄäÂàõÈÄ†Ëê•2019„ÄãÔºåËãèÈÜíÊØèÂë®ÂèëÂæÆÂçö‰∏∫ÊàëÊãâÁ•®",
            "ÁúãÁöÑÂá∫Êù•ÂêóÔºüÊàë‰ø©ÊòØ‰∏ÄÂØπ",
            "ËøôÈ¶ñÊ≠åÂë¢ÔºåÊòØÊàëÂú®ÂàõÈÄ†Ëê•ÁöÑÊó∂ÂÄôÂàõ‰ΩúÁöÑÔºå‰πüÁâπÂà´ÊÑüË∞¢ÊàëÁöÑÂ•ΩÂÖÑÂºüËãèÈÜíÔºåÈô™Êàë‰∏ÄËµ∑ÂÜô‰∫ÜËøôÈ¶ñÊ≠å",
            "ÊàëÊúÄÂñúÊ¨¢ËãèÈÜíÂèØ‰ª•‰πà?",
            "Êàë‰ªéÂá∫ÈÅìÂà∞Áé∞Âú®Ôºå‰∏çËØ¥Â§ßËµ∑Â§ßËêΩÔºå‰πüÊòØËµ∑Ëµ∑ËêΩËêΩÔºåÊúÄÂêéÈô™‰º¥Âú®ÊàëË∫´ËæπÁöÑËøòÊòØÈÇ£‰∫õÊúãÂèãÔºåËãèÈÜíÊòØÊúÄÂ•ΩÁöÑ‰∏Ä‰∏™",
            "OliviaÔºå‰Ω†ËØ¥‰ªñÊÄé‰πàËøò‰∏çÂõûÊù•",
            "ÊàëÂΩìÊó∂ÈÇ£‰∫õÊ≠åÊ≤°Êúâ‰∫∫Ê≥®ÊÑèÁöÑÔºåÂè™Êúâ‰ªñÔºåÂè™Êúâ‰ªñÁü•ÈÅìÊàëÂú®Âπ≤‰ªÄ‰πà‰ªñËøò‰∏∫ÊàëÈ∏£Ëøá‰∏çÂπ≥Ôºå‰ªñ‰πüËßâÂæóÂÖ∂ÂÆûÊàëÁöÑ‰∏úË•øÂ∫îËØ•ÂÄºÂæóË¢´Êõ¥Â§ö‰∫∫Âê¨Âà∞",
            "ËÆ©Âº†ËøúÊÑüËßâÂà∞OKÂ∞±Ë°å‰∫Ü",
            "ÊàëÂæàÂπ∏ËøêÔºå‰πüÂæàÈ™ÑÂÇ≤ÔºåÊàëÊúâ‰∏Ä‰∏™Ëøô‰πà‰ºòÁßÄÁöÑÂÖÑÂºü",
            "Êàë‰∏çÁà±Âê¨Âà´‰∫∫ËØ¥‰ªñÁöÑÊ≠å‰∏çÁ∫¢Â∞±‰∏çÂ•Ω...",
            "ÊàëÁõ∏‰ø°‰ªñÁöÑÊâçÂçéÊÄªÊúâ‰∏ÄÂ§©‰ºöË¢´ÁúãÂà∞‚Ä¶ÂèçÊ≠£Êàë‰∏çÁÆ°ÔºåÊàëÂÖÑÂºüÂæàËµû...",
            "‰ªñÊòØÊàëÊúÄÂ•ΩÁöÑÊúãÂèãÔºå‰ªñÊòØÊàëÊúÄÂ•ΩÁöÑÂÖÑÂºüÔºå‰ªñÊòØÊàëÊúÄÂ•ΩÁöÑÁà±‰∫∫ÔºåÊúÄÂ•ΩÊúÄÁà±ÁöÑÈÇ£‰∏™‰∫∫",
            "‰∏Ä‰ºöÂÑøË¶ÅÂéªÈô™Èô™Allen SuÊâìÁØÆÁêÉÔºå‰ªñÁé∞Âú®ÈúÄË¶Å‰∫∫Èô™ÂòõÂØπ‰∏çÂØπ",
            "ÊàëË∞®‰ª£Ë°®ÂõΩÂÜÖËØ¥Âî±Ê≠åÊâãÔºåËÄÅOGÔºåËãèÈÜíÂêåÂ≠¶Âõ†‰∏∫‰Ω†Â∞±‰ª£Ë°®Êàë‰∫ÜÔºåÊàëÂ∞±‰∏çÈáçÂ§çËØ¥‰∫Ü",
            "‰ªñÊòØÂ∞ëÊúâÁöÑÂ∞±ÊòØÈÇ£ÁßçËØùÂ§ö‰Ω†Âèà‰∏çËßâÂæó‰ªñÁÉ¶ÁöÑÈÇ£Áßç",
            "ÊàëÊâìÁÆóÁ≠âÂì™‰∏ÄÂ§©ÔºåÊàëÂΩªÂ∫ïÈÄÄÂá∫Ëøô‰∏™ÂúàÂ≠ê‰∫ÜÔºåÊàë‰ºöË∫∫Âú®‰∏Ä‰∏™ÈïøÊ§Ö‰∏äÔºåÂú®Êµ∑ËæπÔºåÂêπÁùÄÊµ∑È£é...‰ΩÜÊàëËßâÂæóÈÇ£‰∏™Êó∂ÂÄôÔºåË∫´ËæπÂ∫îËØ•ÊúâÂº†Ëøú",
            "ONLY ONE, Ëøô‰∏Ä‰Ωç‰∫Ü‰∏çÂæóÔºåÊòØÊàëÂú®Ëøô‰∏™Ë°å‰∏öÂÜÖÊúÄÂ•ΩÁöÑÂÖÑÂºüÊ≤°Êúâ‰πã‰∏Ä"
        ];

        const stickers = ["üêµ","üê•","üèÄ","üé§","üíñ","‚ú®","üéÄ","üíå","ü©π","üç≠","üçº","üçì","üêæ","üíç","üí´"];
        
        const noteColors = ['#fff7d1', '#ffcdd2', '#e1bee7', '#bbdefb', '#c8e6c9', '#ffe0b2'];

        const screen = document.getElementById('screen');
        const feeder = document.getElementById('feeder');
        const canvas = document.getElementById('canvas');
        const trashBin = document.getElementById('trashBin');
        
        let zIndexGlobal = 100; 

        function randomQuote() {
            screen.value = quotes[Math.floor(Math.random() * quotes.length)];
        }

        function startPrint() {
            const text = screen.value.trim();
            if(!text) return;
            spawnCard(text, 'note');
            screen.value = "";
            screen.blur();
        }

        function handleImage(input) {
            if(input.files && input.files[0]) {
                const reader = new FileReader();
                reader.onload = (e) => spawnCard(e.target.result, 'photo');
                reader.readAsDataURL(input.files[0]);
            }
            input.value = "";
        }

        function addSticker() {
            const s = document.createElement('div');
            s.className = 'sticker';
            s.textContent = stickers[Math.floor(Math.random() * stickers.length)];
            s.style.left = (window.innerWidth / 2 - 20) + 'px';
            s.style.top = (window.innerHeight / 2 - 20) + 'px';
            // Ë¥¥Á∫∏‰πüÁ®çÂæÆÁº©Â∞è‰∏ÄÁÇπÁÇπÔºåÈÄÇÈÖçÂ∞èÂ±èÂπï
            s.dataset.angle = Math.random() * 40 - 20;
            s.dataset.scale = 0.8; 
            
            updateTransform(s);
            document.body.appendChild(s); 
            makeInteractable(s);
        }

        function spawnCard(content, type) {
            const card = document.createElement('div');
            card.className = 'pixel-card ' + (type === 'note' ? 'note-card' : 'polaroid-card');
            
            if (type === 'note') {
                const randomColor = noteColors[Math.floor(Math.random() * noteColors.length)];
                card.style.backgroundColor = randomColor;
                card.innerHTML = `${content}<div class="card-footer">#AllenSu&Bird</div>`;
            } else {
                card.innerHTML = `<img src="${content}"><div class="card-footer">My Best Bro</div>`;
            }
            
            feeder.appendChild(card);
            
            const angle = Math.random() * 4 - 2; 
            card.dataset.angle = angle;
            // === ÂÖ≥ÈîÆ‰øÆÊîπÔºöÂàùÂßãÁº©ÊîæËÆæ‰∏∫ 0.5Ôºå‰ª•ÂåπÈÖçÁº©Â∞èÂêéÁöÑÊâìÂç∞Êú∫ ===
            card.dataset.scale = 0.5; 
            card.dataset.x = 0; 
            card.dataset.y = 0;

            // Âä®Áîª‰ΩçÁßª
            card.style.transform = `translate(0, 150px) rotate(${angle}deg)`; 
            card.offsetHeight; 

            requestAnimationFrame(() => {
                card.classList.add('printing-anim');
                card.style.transform = `translate(0, -80px) rotate(${angle}deg)`;
            });

            makeInteractable(card);
        }

        function updateTransform(el) {
            // Â¶ÇÊûúËøòÂú®Âá∫Á∫∏Âè£ÈáåÔºå‰∏çÂ∫îÁî®JSÊéßÂà∂ÁöÑtransformÔºåÂÆåÂÖ®‰æùËµñCSSÁà∂Á∫ßÁº©Êîæ
            if (el.parentElement === feeder) return;
            
            const x = parseFloat(el.dataset.x) || 0;
            const y = parseFloat(el.dataset.y) || 0;
            const angle = parseFloat(el.dataset.angle) || 0;
            const scale = parseFloat(el.dataset.scale) || 1;
            el.style.transform = `translate3d(${x}px, ${y}px, 0) rotate(${angle}deg) scale(${scale})`;
            el.style.left = '0px'; el.style.top = '0px';
        }

        function makeInteractable(el) {
            let isDragging = false;
            let isGesturing = false; 
            let startX = 0, startY = 0; 
            let startDist = 0, startAngle = 0; 
            let initialX = 0, initialY = 0;
            let initialScale = 1, initialRotation = 0;

            function handleStart(e) {
                if (e.type !== 'touchstart') e.preventDefault();

                // ÂΩì‰æøÁ≠æ‰ªéÊâìÂç∞Êú∫Ë¢´ÊãñÂá∫Êù•Êó∂
                if (el.parentElement === feeder) {
                    const rect = el.getBoundingClientRect();
                    el.classList.remove('printing-anim');
                    el.style.transition = 'none';
                    canvas.appendChild(el);
                    
                    // ‰øùÊåÅÂΩìÂâçÂ±èÂπï‰ΩçÁΩÆ
                    el.dataset.x = rect.left;
                    el.dataset.y = rect.top;
                    
                    updateTransform(el);
                }

                zIndexGlobal++;
                el.style.zIndex = zIndexGlobal;

                if (e.touches && e.touches.length === 2) {
                    isGesturing = true; isDragging = false;
                    startDist = getDistance(e.touches[0], e.touches[1]);
                    startAngle = getAngle(e.touches[0], e.touches[1]);
                    initialScale = parseFloat(el.dataset.scale) || 1;
                    initialRotation = parseFloat(el.dataset.angle) || 0;
                } else {
                    isDragging = true;
                    const point = e.touches ? e.touches[0] : e;
                    startX = point.clientX; startY = point.clientY;
                    initialX = parseFloat(el.dataset.x) || 0;
                    initialY = parseFloat(el.dataset.y) || 0;
                }

                if (e.type === 'touchstart') {
                    document.addEventListener('touchmove', handleMove, {passive: false});
                    document.addEventListener('touchend', handleEnd);
                } else {
                    document.addEventListener('mousemove', handleMove);
                    document.addEventListener('mouseup', handleEnd);
                }
            }

            function handleMove(e) {
                if(e.cancelable) e.preventDefault(); 

                if (isGesturing && e.touches && e.touches.length === 2) {
                    const currDist = getDistance(e.touches[0], e.touches[1]);
                    const currAngle = getAngle(e.touches[0], e.touches[1]);
                    if (startDist > 0) {
                        let scale = initialScale * (currDist / startDist);
                        scale = Math.max(0.3, Math.min(scale, 3)); 
                        el.dataset.scale = scale;
                    }
                    el.dataset.angle = initialRotation + (currAngle - startAngle);
                    updateTransform(el);
                } else if (isDragging) {
                    const point = e.touches ? e.touches[0] : e;
                    const dx = point.clientX - startX;
                    const dy = point.clientY - startY;
                    el.dataset.x = initialX + dx;
                    el.dataset.y = initialY + dy;
                    updateTransform(el);
                    checkTrash(el);
                }
            }

            function handleEnd(e) {
                if (e.touches && e.touches.length > 0) return;
                isDragging = false; isGesturing = false;
                document.removeEventListener('mousemove', handleMove);
                document.removeEventListener('mouseup', handleEnd);
                document.removeEventListener('touchmove', handleMove);
                document.removeEventListener('touchend', handleEnd);
                if(checkTrash(el, true)) el.remove();
            }

            el.addEventListener('mousedown', handleStart);
            el.addEventListener('touchstart', handleStart, {passive: false});
        }

        function getDistance(t1, t2) { return Math.hypot(t1.pageX - t2.pageX, t1.pageY - t2.pageY); }
        function getAngle(t1, t2) { return Math.atan2(t2.pageY - t1.pageY, t2.pageX - t1.pageX) * 180 / Math.PI; }

        function checkTrash(el, doDelete = false) {
            const r1 = el.getBoundingClientRect();
            const r2 = trashBin.getBoundingClientRect();
            const overlap = !(r1.right < r2.left || r1.left > r2.right || r1.bottom < r2.top || r1.top > r2.bottom);
            if(overlap) {
                trashBin.classList.add('active');
                return doDelete;
            } else {
                trashBin.classList.remove('active');
                return false;
            }
        }
    </script>
</body>
</html>
